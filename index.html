<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¦ Agent Team å·¥ä½œç›‘æ§ä¸­å¿ƒ | Anti-Slacking System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .glass {
            background: rgba(20, 20, 30, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .agent-card {
            transition: all 0.3s ease;
        }
        .agent-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
        .pulse-dot {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .progress-bar {
            transition: width 0.5s ease;
        }
        .typing-indicator::after {
            content: '...';
            animation: typing 1.5s infinite;
        }
        @keyframes typing {
            0%, 100% { content: '.'; }
            33% { content: '..'; }
            66% { content: '...'; }
        }
        .slacking-warning {
            animation: warning-pulse 1s infinite;
        }
        @keyframes warning-pulse {
            0%, 100% { border-color: #ef4444; }
            50% { border-color: #f87171; }
        }
    </style>
</head>
<body class="text-gray-100 min-h-screen">
    <!-- Header -->
    <header class="glass sticky top-0 z-50 border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="text-3xl">ğŸ¦</div>
                <div>
                    <h1 class="text-xl font-bold bg-gradient-to-r from-orange-400 to-red-500 bg-clip-text text-transparent">
                        Agent Team ç›‘æ§ä¸­å¿ƒ
                    </h1>
                    <p class="text-xs text-gray-500 mono">ANTI-SLACKING SYSTEM v1.0</p>
                </div>
            </div>
            <div class="flex items-center gap-6">
                <div class="text-right">
                    <div class="text-2xl font-bold text-green-400" id="total-tasks">0</div>
                    <div class="text-xs text-gray-500">æ€»ä»»åŠ¡æ•°</div>
                </div>
                <div class="text-right">
                    <div class="text-2xl font-bold text-blue-400" id="active-agents">0</div>
                    <div class="text-xs text-gray-500">æ´»è·ƒ Agent</div>
                </div>
                <div class="text-right">
                    <div class="text-2xl font-bold text-red-400" id="slacking-agents">0</div>
                    <div class="text-xs text-gray-500">ç–‘ä¼¼æ‘¸é±¼</div>
                </div>
                <div class="glass px-4 py-2 rounded-lg">
                    <div class="text-xs text-gray-400">ç³»ç»Ÿæ—¶é—´</div>
                    <div class="mono text-sm" id="system-time">--:--:--</div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-6 space-y-6">
        <!-- Alert Banner -->
        <div id="alert-banner" class="hidden glass rounded-lg p-4 border-l-4 border-red-500 bg-red-500/10">
            <div class="flex items-center gap-3">
                <span class="text-2xl">âš ï¸</span>
                <div>
                    <div class="font-bold text-red-400">æ£€æµ‹åˆ°æ‘¸é±¼è¡Œä¸ºï¼</div>
                    <div class="text-sm text-gray-400" id="alert-message"></div>
                </div>
            </div>
        </div>

        <!-- Dashboard Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Left: Team Overview -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Performance Chart -->
                <div class="glass rounded-xl p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-semibold flex items-center gap-2">
                            <span>ğŸ“Š</span> å›¢é˜Ÿæ•ˆç‡è¶‹åŠ¿
                        </h2>
                        <div class="flex gap-2">
                            <button onclick="setTimeRange('1h')" class="px-3 py-1 text-xs rounded bg-gray-800 hover:bg-gray-700 transition">1å°æ—¶</button>
                            <button onclick="setTimeRange('24h')" class="px-3 py-1 text-xs rounded bg-blue-600">24å°æ—¶</button>
                            <button onclick="setTimeRange('7d')" class="px-3 py-1 text-xs rounded bg-gray-800 hover:bg-gray-700 transition">7å¤©</button>
                        </div>
                    </div>
                    <canvas id="performanceChart" height="200"></canvas>
                </div>

                <!-- Agent List -->
                <div class="glass rounded-xl p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-semibold flex items-center gap-2">
                            <span>ğŸ‘¥</span> Agent å·¥ä½œçŠ¶æ€
                        </h2>
                        <div class="flex gap-2 text-xs">
                            <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-green-500 pulse-dot"></span> å·¥ä½œä¸­</span>
                            <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-yellow-500"></span> ç©ºé—²</span>
                            <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-red-500"></span> æ‘¸é±¼å«Œç–‘</span>
                        </div>
                    </div>
                    <div id="agent-list" class="space-y-3">
                        <!-- Agents will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- Right: Real-time Stats -->
            <div class="space-y-6">
                <!-- Task Distribution -->
                <div class="glass rounded-xl p-6">
                    <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
                        <span>ğŸ¯</span> ä»»åŠ¡åˆ†å¸ƒ
                    </h2>
                    <canvas id="taskChart" height="200"></canvas>
                </div>

                <!-- Activity Log -->
                <div class="glass rounded-xl p-6">
                    <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
                        <span>ğŸ“</span> å®æ—¶æ—¥å¿—
                    </h2>
                    <div id="activity-log" class="space-y-2 max-h-80 overflow-y-auto mono text-xs">
                        <!-- Logs will be rendered here -->
                    </div>
                </div>

                <!-- Anti-Slacking Metrics -->
                <div class="glass rounded-xl p-6">
                    <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
                        <span>ğŸš¨</span> åæ‘¸é±¼æŒ‡æ ‡
                    </h2>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-400">é”®ç›˜æ´»è·ƒåº¦</span>
                                <span class="text-green-400" id="keyboard-activity">98%</span>
                            </div>
                            <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                                <div class="h-full bg-green-500 progress-bar" style="width: 98%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-400">ä»»åŠ¡å®Œæˆç‡</span>
                                <span class="text-blue-400" id="task-completion">87%</span>
                            </div>
                            <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                                <div class="h-full bg-blue-500 progress-bar" style="width: 87%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-400">å“åº”é€Ÿåº¦</span>
                                <span class="text-purple-400" id="response-time">1.2s</span>
                            </div>
                            <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                                <div class="h-full bg-purple-500 progress-bar" style="width: 92%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-400">æ‘¸é±¼æ£€æµ‹</span>
                                <span class="text-red-400" id="slacking-score">2%</span>
                            </div>
                            <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                                <div class="h-full bg-red-500 progress-bar" style="width: 2%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Agent Team Data
        const agents = [
            {
                id: 'agent-001',
                name: 'æ€»æŒ‡æŒ¥ (Commander)',
                avatar: 'ğŸ¯',
                role: 'Supervisor',
                status: 'working',
                task: 'å…¨å±€æ€åŠ¿æ„ŸçŸ¥ã€ä»»åŠ¡æ‹†è§£',
                progress: 78,
                lastActive: Date.now(),
                tasksCompleted: 156,
                efficiency: 95,
                slackingScore: 0
            },
            {
                id: 'agent-002',
                name: 'å†›å¸ˆ (Strategist)',
                avatar: 'ğŸ§ ',
                role: 'Advisor',
                status: 'working',
                task: 'ç­–ç•¥åˆ†æã€æ–¹æ¡ˆè¯„ä¼°',
                progress: 65,
                lastActive: Date.now() - 120000,
                tasksCompleted: 89,
                efficiency: 88,
                slackingScore: 5
            },
            {
                id: 'agent-003',
                name: 'å·¥ç¨‹å¸ˆ (Engineer)',
                avatar: 'âš™ï¸',
                role: 'Executor',
                status: 'working',
                task: 'ä»£ç å®ç°ã€ç³»ç»Ÿç»´æŠ¤',
                progress: 92,
                lastActive: Date.now() - 30000,
                tasksCompleted: 234,
                efficiency: 97,
                slackingScore: 0
            },
            {
                id: 'agent-004',
                name: 'åˆ›ä½œå®˜ (Creator)',
                avatar: 'âœ¨',
                role: 'Content',
                status: 'idle',
                task: 'ç­‰å¾…åˆ›ä½œä»»åŠ¡',
                progress: 0,
                lastActive: Date.now() - 300000,
                tasksCompleted: 67,
                efficiency: 82,
                slackingScore: 15
            },
            {
                id: 'agent-005',
                name: 'æ™ºåº“ (Knowledge)',
                avatar: 'ğŸ“š',
                role: 'Auditor',
                status: 'working',
                task: 'çŸ¥è¯†å®¡æ ¸ã€è´¨é‡æŠŠå…³',
                progress: 45,
                lastActive: Date.now() - 60000,
                tasksCompleted: 112,
                efficiency: 91,
                slackingScore: 3
            }
        ];

        // Activity Log
        const logs = [];
        
        function addLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString('zh-CN');
            logs.unshift({ timestamp, message, type });
            if (logs.length > 50) logs.pop();
            renderLogs();
        }

        function renderLogs() {
            const container = document.getElementById('activity-log');
            container.innerHTML = logs.map(log => {
                const colors = {
                    info: 'text-gray-400',
                    success: 'text-green-400',
                    warning: 'text-yellow-400',
                    error: 'text-red-400'
                };
                return `<div class="${colors[log.type]}">[${log.timestamp}] ${log.message}</div>`;
            }).join('');
        }

        // Render Agent List
        function renderAgents() {
            const container = document.getElementById('agent-list');
            container.innerHTML = agents.map(agent => {
                const statusColors = {
                    working: 'bg-green-500',
                    idle: 'bg-yellow-500',
                    slacking: 'bg-red-500'
                };
                
                const statusText = {
                    working: 'å·¥ä½œä¸­',
                    idle: 'ç©ºé—²',
                    slacking: 'æ‘¸é±¼å«Œç–‘!'
                };

                const isSlacking = agent.slackingScore > 10;
                const cardClass = isSlacking ? 'slacking-warning border-2 border-red-500' : '';
                
                return `
                    <div class="agent-card glass rounded-lg p-4 ${cardClass}">
                        <div class="flex items-center gap-4">
                            <div class="text-3xl">${agent.avatar}</div>
                            <div class="flex-1">
                                <div class="flex items-center gap-2">
                                    <span class="font-semibold">${agent.name}</span>
                                    <span class="text-xs px-2 py-0.5 rounded bg-gray-700 text-gray-400">${agent.role}</span>
                                    <span class="w-2 h-2 rounded-full ${statusColors[agent.status]} ${agent.status === 'working' ? 'pulse-dot' : ''}"></span>
                                    <span class="text-xs ${isSlacking ? 'text-red-400 font-bold' : 'text-gray-500'}">${statusText[agent.status]}</span>
                                </div>
                                <div class="text-sm text-gray-400 mt-1">${agent.task}</div>
                                <div class="mt-2">
                                    <div class="flex justify-between text-xs mb-1">
                                        <span class="text-gray-500">ä»»åŠ¡è¿›åº¦</span>
                                        <span class="text-gray-400">${agent.progress}%</span>
                                    </div>
                                    <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                                        <div class="h-full ${isSlacking ? 'bg-red-500' : 'bg-blue-500'} progress-bar" style="width: ${agent.progress}%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-right text-xs space-y-1">
                                <div class="text-gray-500">æ•ˆç‡: <span class="text-green-400">${agent.efficiency}%</span></div>
                                <div class="text-gray-500">å®Œæˆ: <span class="text-blue-400">${agent.tasksCompleted}</span></div>
                                ${isSlacking ? '<div class="text-red-400 font-bold">æ‘¸é±¼æŒ‡æ•°: ' + agent.slackingScore + '%</div>' : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            // Update stats
            document.getElementById('active-agents').textContent = agents.filter(a => a.status === 'working').length;
            document.getElementById('slacking-agents').textContent = agents.filter(a => a.slackingScore > 10).length;
        }

        // Charts
        let performanceChart, taskChart;

        function initCharts() {
            // Performance Chart
            const perfCtx = document.getElementById('performanceChart').getContext('2d');
            performanceChart = new Chart(perfCtx, {
                type: 'line',
                data: {
                    labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00', 'Now'],
                    datasets: agents.map((agent, i) => ({
                        label: agent.name,
                        data: Array(7).fill(0).map(() => Math.floor(Math.random() * 40) + 60),
                        borderColor: ['#22c55e', '#3b82f6', '#f59e0b', '#ec4899', '#8b5cf6'][i],
                        backgroundColor: 'transparent',
                        tension: 0.4
                    }))
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, max: 100, grid: { color: 'rgba(255,255,255,0.1)' } },
                        x: { grid: { color: 'rgba(255,255,255,0.1)' } }
                    }
                }
            });

            // Task Distribution Chart
            const taskCtx = document.getElementById('taskChart').getContext('2d');
            taskChart = new Chart(taskCtx, {
                type: 'doughnut',
                data: {
                    labels: ['å·²å®Œæˆ', 'è¿›è¡Œä¸­', 'å¾…åˆ†é…', 'é˜»å¡ä¸­'],
                    datasets: [{
                        data: [45, 23, 12, 5],
                        backgroundColor: ['#22c55e', '#3b82f6', '#f59e0b', '#ef4444']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { position: 'bottom', labels: { color: '#9ca3af' } } }
                }
            });
        }

        // Update System Time
        function updateTime() {
            document.getElementById('system-time').textContent = 
                new Date().toLocaleTimeString('zh-CN');
        }

        // Simulate Activity
        function simulateActivity() {
            // Randomly update agent progress
            agents.forEach(agent => {
                if (agent.status === 'working' && Math.random() > 0.7) {
                    agent.progress = Math.min(100, agent.progress + Math.floor(Math.random() * 5));
                    if (agent.progress >= 100) {
                        agent.progress = 0;
                        agent.tasksCompleted++;
                        addLog(`${agent.name} å®Œæˆäº†ä»»åŠ¡ #${agent.tasksCompleted}`, 'success');
                    }
                }
                
                // Simulate slacking detection
                if (agent.status === 'idle' && Math.random() > 0.8) {
                    agent.slackingScore = Math.min(100, agent.slackingScore + 5);
                    if (agent.slackingScore > 10 && agent.slackingScore <= 15) {
                        addLog(`âš ï¸ æ£€æµ‹åˆ° ${agent.name} å¯èƒ½æœ‰æ‘¸é±¼è¡Œä¸ºï¼`, 'warning');
                        document.getElementById('alert-banner').classList.remove('hidden');
                        document.getElementById('alert-message').textContent = 
                            `${agent.name} ç©ºé—²æ—¶é—´è¶…è¿‡é˜ˆå€¼ï¼Œæ‘¸é±¼æŒ‡æ•° ${agent.slackingScore}%`;
                    }
                }
            });

            // Update total tasks
            document.getElementById('total-tasks').textContent = 
                agents.reduce((sum, a) => sum + a.tasksCompleted, 0);

            renderAgents();
        }

        // Set Time Range
        function setTimeRange(range) {
            addLog(`åˆ‡æ¢åˆ° ${range} æ—¶é—´èŒƒå›´`, 'info');
            // Update chart data based on range
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initCharts();
            renderAgents();
            updateTime();
            
            // Initial logs
            addLog('ç³»ç»Ÿå¯åŠ¨ï¼ŒAgent Team ç›‘æ§å¼€å§‹', 'info');
            addLog('æ€»æŒ‡æŒ¥å·²æ¥ç®¡ä»»åŠ¡åˆ†é…', 'success');
            addLog('æ‰€æœ‰ Agent å·²ä¸Šçº¿', 'success');
            
            // Intervals
            setInterval(updateTime, 1000);
            setInterval(simulateActivity, 3000);
        });
    </script>
</body>
</html>
